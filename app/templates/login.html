<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% include 'header.html' %}

<main class="login-page">
    <div class="login-container">
        <h1 class="login-title">Войти в аккаунт</h1>
        <p class="login-subtitle">
            <span class="login-subtitle-grey">Или </span>
            <a href="{{ url_for('auth.register') }}" class="login-subtitle-pink">создайте новый аккаунт</a>
        </p>

        <form class="login-form" method="POST">
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Пароль" required>

            <div class="forgot-password">
                <a href="#">Забыли пароль?</a>
            </div>

            <button type="submit" class="btn-login-main">Войти</button>
        </form>

        <div class="login-divider-wrapper">
            <span class="login-divider-line"></span>
            <span class="login-divider-text">Или войдите через</span>
            <span class="login-divider-line"></span>
        </div>

        <div class="login-social">
            <a href="{{ url_for('auth.login_google') }}"
               class="social-btn social-google">
               Google
            </a>
            <a href="#" class="social-btn social-facebook">
               Facebook
            </a>
        </div>

        <!-- Отображение ошибок от Google OAuth -->
       {% if session.get('oauth_error') %}
            <div class="flash-message flash-error">
                {{ session.pop('oauth_error') }}
            </div>
        {% endif %}


    </div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const loginContainer = document.querySelector('.login-container');
    if (!loginContainer) return;

    const elements = [
        loginContainer.querySelector('.login-title'),
        loginContainer.querySelector('.login-subtitle'),
        loginContainer.querySelector('.login-form'),
        loginContainer.querySelector('.login-divider-wrapper'),
        loginContainer.querySelector('.login-social')
    ];

    // Скрываем элементы
    elements.forEach(el => {
        if (el) {
            el.style.opacity = 0;
            el.style.transform = 'translateY(30px)';
        }
    });

    // Каскадная анимация
    elements.forEach((el, i) => {
        if (el) {
            setTimeout(() => {
                el.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                el.style.opacity = 1;
                el.style.transform = 'translateY(0)';
            }, i * 300); // 300ms между элементами, медленнее
        }
    });
});
</script>

</main>

{% include 'footer.html' %}
