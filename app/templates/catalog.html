{% extends 'base.html' %}

{% block title %}Каталог курсов — ArtNails Academy{% endblock %}

{% block content %}
<main class="catalog-page">

    <!-- Верхний белый блок -->
    <section class="catalog-header">
        <div class="catalog-header-content">
            <h1 class="catalog-title">Каталог курсов</h1>
            <p class="catalog-subtitle">
                Выберите курс, который подходит вашему уровню и целям
            </p>
        </div>
    </section>

    <!-- Фильтры -->
    <section class="filter-section">
        <div class="filter-container">

            <!-- Поиск -->
            <div class="filter-item search-filter">
                <label for="search" class="filter-label">Поиск по названию</label>
                <div class="search-input-wrapper">
                    <input
                        type="text"
                        id="search"
                        class="filter-input"
                        placeholder="Введите название курса..."
                        list="search-suggestions"
                        autocomplete="off"
                    >
                    <button type="button" id="clear-search" class="clear-search-btn">✕</button>
                </div>
                <datalist id="search-suggestions"></datalist>
            </div>


            <!-- Уровень -->
            <div class="filter-item">
                <label for="level" class="filter-label">Уровень</label>
                <select id="level" class="filter-select">
                    <option value="">Все уровни</option>
                    <option value="Начинающий">Начинающий</option>
                    <option value="Средний">Средний</option>
                    <option value="Продвинутый">Продвинутый</option>
                </select>
            </div>

            <!-- Цена -->
            <div class="filter-item">
                <label for="price" class="filter-label">Цена</label>
                <select id="price" class="filter-select">
                    <option value="">Все</option>
                    <option value="low">До 800 BYN</option>
                    <option value="medium">801–1200 BYN</option>
                    <option value="high">От 1201 BYN</option>
                </select>
            </div>

            <!-- Длительность -->
            <div class="filter-item">
                <label for="duration" class="filter-label">Длительность</label>
                <select id="duration" class="filter-select">
                    <option value="">Все</option>
                    <option value="short">1–2 недели</option>
                    <option value="medium">3–4 недели</option>
                    <option value="long">5+ недель</option>
                </select>
            </div>

        </div>
    </section>

    <!-- Карточки курсов -->
     <section class="courses-block">
        <div class="courses-container-catalog" id="courses-container">

            {% for course in courses %}
            <div class="course-card public-course-card">

                <!-- Изображение -->
                <img
                    src="{{ url_for('static', filename=course.image) }}"
                    alt="{{ course.title }}"
                    class="course-img"
                >

                <!-- Верхняя информация -->
                <div class="course-top-info">
                    <span class="course-level">{{ course.difficulty }}</span>
                    <span class="course-duration">{{ course.duration_weeks }} недели</span>
                </div>

                <!-- Название -->
                <h3 class="course-name">
                    {{ course.title }}
                </h3>

                <!-- Описание -->
                <p class="course-desc">
                    {{ course.short_description }}
                </p>

                <!-- Цена -->
                <span class="course-price">
                    {{ course.price }} BYN
                </span>

                <!-- Кнопка -->
                <a href="{{ url_for('course_desk.course_page', id_course=course.id_course) }}" class="btn-course-details">
                    Подробнее
                </a>
            </div>
            {% endfor %}

        </div>
    </section>

</main>

<script src="{{ url_for('static', filename='js/catalog_filter.js') }}"></script>
{% endblock %}
